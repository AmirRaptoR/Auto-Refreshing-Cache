AutoRefreshingCache is implemeted in C#. It provides a MemoryCache which tries to refresh hot values before 
actual expiration time is reached. It gives you a single public method (i.e. GET).
Here comes the pseudocode of this cache.


get(param)
	res = cache.get(param)
	if (res == null)
		refresh(param, null)
		return cache.get(param)
	if (res needs to be refresh)
		res.refreshWorkers.increment
		if (res.refreshWorkers == 1)
			task.run(() => refresh(param, res.refreshWorkers))
	return res.data


refresh(param, refreshWorkers)
	data = calc(param)
	cache.put(key:param, value:{data, now}, expiration:exp_time)
	if (refreshWorkers != null)
		refreshWorkers.decrement
